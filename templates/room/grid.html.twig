{% extends "base.html.twig" %}

{% block body %}
{% block navbar %}{{ parent() }}{% endblock %}

<section class="directory-container">
    <div class="container">
        <header class="level-header mb-5 text-center">
            <h1 class="matrix-title">
                <span class="matrix-glow">></span> {{ difficulty|upper }}_SECTOR_NODES
            </h1>
            <div class="terminal-bar"></div>
        </header>

        <div class="room-grid">
            {% for room in rooms %}
                <a href="{{ path('room', {'difficulty': difficulty, 'room': room.number}) }}" class="node-card active-node">
                    <div class="node-header">
                        <span class="node-status-dot"></span>
                        <span class="node-label">NODE_READY</span>
                    </div>
                    <div class="node-body">
                        <span class="room-num">{{ room.number|format('%03d') }}</span>
                    </div>
                    <div class="node-footer">
                        <span class="room-meta">ACCESS_GRANTED</span>
                    </div>
                    <div class="node-scanner"></div>
                </a>

                {% if loop.last %}
                    <div class="node-card locked-node">
                        <div class="node-header">
                            <span class="node-label">REDACTED</span>
                        </div>
                        <div class="node-body">
                            <span class="room-num">???</span>
                        </div>
                        <div class="node-footer">
                            <span class="room-meta">[ LOCKED ]</span>
                        </div>
                    </div>
                {% endif %}
            {% else %}
                <div class="node-card locked-node w-100">
                    <div class="node-body">
                        <span class="room-num">000</span>
                        <p class="matrix-glow">NO_ACTIVE_NODES_IN_SECTOR</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}